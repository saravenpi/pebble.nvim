filters:
  and:
    - status != "done"
    - status != "cancelled"

formulas:
  days_until_due: 'due and tonumber(os.difftime(date(due), os.time()) / 86400) or nil'
  priority_level: 'priority == "high" and "ğŸ”´" or priority == "medium" and "ğŸŸ¡" or "ğŸŸ¢"'
  status_icon: 'status == "todo" and "â³" or status == "in-progress" and "ğŸ”„" or status == "done" and "âœ…" or "âŒ"'

display:
  name:
    displayName: "Task"
  status:
    displayName: "Status"
  formula.status_icon:
    displayName: "ğŸ“Š"
  priority:
    displayName: "Priority"
  formula.priority_level:
    displayName: "ğŸ¯"
  due:
    displayName: "Due Date"
  formula.days_until_due:
    displayName: "Days Left"
  tags:
    displayName: "Tags"

views:
  - type: table
    name: "Active Tasks"
    filters:
      and:
        - status != "done"
        - status != "cancelled"
    order:
      - priority
      - due
      - name
    limit: 50